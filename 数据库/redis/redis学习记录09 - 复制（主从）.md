
# 说明

Redis Slaveof 命令可以将当前服务器转变为指定服务器的从属服务器(slave server)

- 当机器执行了 slaveof host port之后
   
  那么该机器变成从属机器，会丢掉所有旧数据 ，去同步主节点机器的所有数据

- 当机器执行了 SLAVEOF no one 之后
    
    将使得这个从属服务器关闭复制功能，并从从属服务器转变回主服务器，原来同步所得的数据集不会被丢弃



# 配置主从

## 主节点

绑定本机的具体IP
```
bind 192.168.204.139
```

## 从节点

绑定本机的具体IP
```
bind 192.168.204.140
```


设置主节点IP

```
# 设置主节点
slaveof 192.168.204.139 6379
# 设置作为从属服务器是只读的，如果该机器不是从属服务器就可以写了
slave-read-only yes
```

# 启动测试

## 主节点启动，添加数据


```
# 输入下面命令之后按两下回车
redis-server redis.conf &

redis-cli -h 192.168.204.139 -p 6379

192.168.204.139:6379> set 123456 654321
```

## 启动从节点

```

redis-server redis.conf &

redis-cli -h 192.168.204.140 -p 6379

192.168.204.140:6379> get 123456
"654321"

```



